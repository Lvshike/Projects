<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  #canvas{
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: pink
  }
</style>
<body>
  <canvas id="canvas" width="1000" height="500" ></canvas>
  <!-- <div id="box">
    <img src="1.png" alt="">
  </div> -->
  <script>
    const cv = document.querySelector('#canvas')  
    const ctx = cv.getContext("2d")
    startMove(300,150,5)
    function draw(x,y,color) {
      let circle = new Path2D()
      ctx.fillStyle = color
      ctx.beginPath();
      circle.arc(x,y,2,0,2*Math.PI,true)
      ctx.fill(circle)
    }
    function randomColor() {//得到随机的颜色值
      var r = Math.floor(Math.random() * 256);
      var g = Math.floor(Math.random() * 256);
      var b = Math.floor(Math.random() * 256);
      return "rgb(" + r + "," + g + "," + b + ")";
    }
    function startMove(l,k,h,c){
      ctx.clearRect(0,0,1000,500)
      var i = 0;
      var timer = setInterval(()=>{
        var t = i * Math.PI / 180;
        var a = l + h * (16*Math.pow(Math.sin(t),3))
        var b = k - h * (13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
        draw(a, b, c)
        i++;
        if(t == 2 * Math.PI){
          clearInterval(timer)
          var lx = 100 + Math.random()*600
          var ly = 100 + Math.random()*200
          var lh = 4 + Math.random() * 5
          var color = randomColor()
          startMove(lx,ly,lh,color) 
        }
      },10)
    }
  </script>
</body>
</html>